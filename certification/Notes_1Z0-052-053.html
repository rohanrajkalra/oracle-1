<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.5.2" />
<title>Notes for exams 1Z0-052 &amp; 1Z0-053 from the "All in One OCA-OCP" book</title>
<style type="text/css">
/* Debug borders */
p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 {
/*
  border: 1px solid red;
*/
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

tt {
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  font-family: sans-serif;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}

div.sectionbody {
  font-family: serif;
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revnumber, span#revdate, span#revremark {
  font-family: sans-serif;
}

div#footer {
  font-family: sans-serif;
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #dddddd;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > div.content {
  white-space: pre;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-family: sans-serif;
  font-weight: bold;
}
tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}


@media print {
  div#footer-badges { display: none; }
}

div#toc {
  margin-bottom: 2.5em;
}

div#toctitle {
  color: #527bbd;
  font-family: sans-serif;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}
/* Workarounds for IE6's broken and incomplete CSS2. */

div.sidebar-content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}
div.sidebar-title, div.image-title {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  margin-top: 0.0em;
  margin-bottom: 0.5em;
}

div.listingblock div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock-attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock-content {
  white-space: pre;
}
div.verseblock-attribution {
  padding-top: 0.75em;
  text-align: left;
}

div.exampleblock-content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

/* IE6 sets dynamically generated links as visited. */
div#toc a:visited { color: blue; }
</style>
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){asciidoc.footnotes(); asciidoc.toc(2);}
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  var cont = document.getElementById("content");
  var noteholder = document.getElementById("footnotes");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      // Use [\s\S] in place of . so multi-line matches work.
      // Because JavaScript has no s (dotall) regex flag.
      note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      spans[i].innerHTML =
        "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
        "' title='View footnote' class='footnote'>" + n + "</a>]";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
}

}
/*]]>*/
</script>
</head>
<body>
<div id="header">
<h1>Notes for exams 1Z0-052 &amp; 1Z0-053 from the "All in One OCA-OCP" book</h1>
<span id="author">Joseph HERLANT</span><br />
<span id="email"><tt>&lt;<a href="mailto:josephherlant@free.fr">josephherlant@free.fr</a>&gt;</tt></span><br />
<span id="revnumber">version 1.0.1,</span>
<span id="revdate">2013-04-30</span>
<br /><span id="revremark">Minor corrections and addings</span>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Note" src="data:image/png;base64,
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" />
</td>
<td class="content">
<div class="title">To review for work enhancements</div>
<div class="paragraph"><p><strong>Security tip:</strong>
Always consider revoking execute on UTL_FILE, UTL_TCP, UTL_SMTP, UTL_HTTP and other UTL packages from PUBLIC, because they are granted by default and represent a treat for security.</p></div>
<div class="paragraph"><p><strong>Things to monitor:</strong></p></div>
<div class="paragraph"><p>&#8594; out of UNDO, TEMP and other TBS space</p></div>
<div class="paragraph"><p>&#8594; Users quota limits</p></div>
<div class="paragraph"><p>&#8594; Objects hiting max extents limit</p></div>
<div class="paragraph"><p>&#8594; row migration (&#8658; increase the pct_free or do a move/shrink of the object)</p></div>
<div class="paragraph"><p><strong>To review:</strong>
Backup check logical (RMAN command) &amp; V$DATABASE_BLOCK_CORRUPTION</p></div>
<div class="paragraph"><p><strong>RMAN optimization:</strong> Oracle recommends to use <tt>FILEPERSET</tt> &le; 8 to optimize recovery.</p></div>
<div class="paragraph"><p><strong>Change SQL*Plus prompt:</strong> in ORACLE_HOME/sqlplus/admin/glogin.sql &#8658; set sqlprompt "_user@_connect_identifiers&gt;"</p></div>
</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Warning" src="data:image/png;base64,
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
/F/lgJiyQFHragAAAABJRU5ErkJggg==" />
</td>
<td class="content">This document is my personnal notes I took when reading the "OCA/OCP Oracle Database 11g: All-in-One Exam Guide" to prepare 1Z0-052 and 1Z0-053 exams. This is not a complete review of the exams topics, just the ones I either didn&#8217;t know or having hard time to remember. 1Z0-051 exam is not correctly reviewed here because I passed the 1Z0-047 exam instead.</td>
</tr></table>
</div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 1. Exams to chapters matching</caption>
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top"> Exam    </th>
<th align="left" valign="top"> Corresponding chapters</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">1Z0-051</p></td>
<td align="left" valign="top"><p class="table">7,8,9,10,11,12,13</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">1Z0-052</p></td>
<td align="left" valign="top"><p class="table">1,2,3,4,5,6,7,8,14,15,16,23,24,25,27</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">1Z0-053</p></td>
<td align="left" valign="top"><p class="table">14,15,16,17,18,19,20,21,22,23,25,26,27</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<h2 id="_chapter_1_architectural_overview_of_database_11g">1. Chapter 1: Architectural overview of Database 11g</h2>
<div class="sectionbody">
<h3 id="_introduction">1.1. Introduction</h3><div style="clear:left"></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Instance
</dt>
<dd>
<p>
Memory structures and a set of processes. It exists on the CPU(s) and in the memory of a server node, and its existence is temporary. It manages all access to the database. Users of the database initiate sessions against the instance.
</p>
</dd>
<dt class="hdlist1">
Database
</dt>
<dd>
<p>
a set of files on the disk. It exists until these files are deleted.
</p>
</dd>
</dl></div>
<div style="page-break-after:always"></div>
<h3 id="_memory">1.2. Memory</h3><div style="clear:left"></div>
<h4 id="_sga">1.2.1. SGA</h4>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Table 2. SGA structures</caption>
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<thead>
<tr>
<th colspan="3" align="center" valign="top">SGA mandatory structures                                       </th>
<th colspan="3" align="center" valign="top">SGA Optionnal structures</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="5" align="center" valign="middle"><p class="table"><strong>Buffer cache</strong></p></td>
<td rowspan="5" align="center" valign="middle"><p class="table"><strong>Log Buffer</strong></p></td>
<td align="center" valign="top"><p class="table"><strong>Shared Pool</strong></p></td>
<td rowspan="5" align="center" valign="middle"><p class="table"><strong>Large pool</strong></p></td>
<td rowspan="5" align="center" valign="middle"><p class="table"><strong>Java pool</strong></p></td>
<td rowspan="5" align="center" valign="middle"><p class="table"><strong>Streams pool</strong></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Library cache</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Data dictionnary cache</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">PL/SQL cache</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">PL/SQL functions / SQL Query cache</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
SGA required memory buffers
</dt>
<dd>
<p>
DB buffer cache, Log buffer, Shared pool (library cache, data dictionnary cache, PL/SQL Area, SQL Query / PL/SQL function result cache,&#8230;)
</p>
</dd>
<dt class="hdlist1">
SGA optionnal memory buffers
</dt>
<dd>
<p>
Large pool, Java pool, streams pool
</p>
</dd>
<dt class="hdlist1">
Dirty blocks
</dt>
<dd>
<p>
block that is not the same on the disk and in the buffer cache. Process of writing blocks to the disks are managed by the DBWriter background process. The buffer will become dirty when the block in it is updated.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Redo log data are written from the log buffer to the redo logs using LGWR (log writer) background process. COMMIT statements will generate real-time writing blocks from log buffers to redo logs.</p></div>
<div class="paragraph"><p>The size of the log buffer is static, fixed at instance startup. It cannot be automatically managed.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Library cache
</dt>
<dd>
<p>
stores parsed form of the statements. (Note: parsing is case sensitive!)
</p>
</dd>
<dt class="hdlist1">
Data dictionnary cache
</dt>
<dd>
<p>
(=row cache) stores recently used object definitions.
</p>
</dd>
<dt class="hdlist1">
PL/SQL Area
</dt>
<dd>
<p>
Stores compiled versions of PL/SQL objects (procedures, functions, packaged procedures &amp; functions, object type definitions, and triggers)
</p>
</dd>
<dt class="hdlist1">
(SQL Query / PL/SQL function) Result cache
</dt>
<dd>
<p>
stores the result of a query. (The cache of a query will be invalidated each time a table against which the query was run has been updated). This cache is disabled by default and can be enabled programatiaclly.
</p>
</dd>
<dt class="hdlist1">
Large pool
</dt>
<dd>
<p>
Used by Shared Server processes and Parallel execution servers when existing (instead of shared pool). Some I/O processes can also make use of a large pool (ie: Recovery Manager when backing up to tape device)
</p>
</dd>
<dt class="hdlist1">
Java pool
</dt>
<dd>
<p>
Only required for applications running Java stored procedures (that is the case of a number of Oracle options). It is used to instantiate the Java objects. The Java code is stored in the shared pool, not in the Java pool!
</p>
</dd>
<dt class="hdlist1">
Streams pool
</dt>
<dd>
<p>
used by Oracle Strams to reconstruct the statements to execute on remote database from the redo logs.
</p>
</dd>
</dl></div>
<h3 id="_background_processes">1.3. Background processes</h3><div style="clear:left"></div>
<h4 id="_main_background_processes">1.3.1. Main background processes</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
System Monitor (SMON)
</dt>
<dd>
<p>
mounts the database by locating and validating controlfiles. Then opens database by locating and validating datafiles and online log files. Once database opened, it does various tasks such as coalescing free space in datafiles.
</p>
</dd>
<dt class="hdlist1">
Process Monirot (PMON)
</dt>
<dd>
<p>
monitors server processes and detects any problem with the sessions. If a session has terminated abnormally, PMON will destroy the associated processes, return session&#8217;s PGA to the server and rollback any uncommited transaction.
</p>
</dd>
<dt class="hdlist1">
Database Writer (DBWn)
</dt>
<dd>
<p>
Writes dirty buffers from DB buffer cache to the datafiles (a session only modifies data in buffer cache, not directly on disks. Commit does not implies any write to disk!). It writes as little blocks as possible as rarely as possible. 4 events will force DBWn to write: No free buffers (neither dirty nor pinned - currently used by another session), too many dirty buffers (defined internally), a 3 second timeout (3 seconds without writing any buffers), and checkpoints (Full: manual, or on database closing ; partial (for just a tablespace or datafile): when datafile/tablespace are taken offline / backup mode / read only).
</p>
</dd>
</dl></div>
<div class="paragraph"><p><strong>Form Oracle 8i, checkpoints do not occur on log switch anymore.</strong></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Log Writer (LGWR)
</dt>
<dd>
<p>
flushes the log buffer (containing blocks change vectors) to the online log files on disk in real time. 3 events generate this: a session commit, a third full log buffer, just before the DBWn  writes. Write-on-commit can be set in background mode (to prevent the session from hanging on commit), but if server crashed, some block changes can have not been written to online logs.
</p>
</dd>
<dt class="hdlist1">
Checkpoint Process (CKPT)
</dt>
<dd>
<p>
Handles full checkpoints requested manually or on closing database. Is also responsible of asking frequent incremental checkpoints to the DBWn for minimizing recovery time. Also writes the RBA (Redo Byte Address) aka checkpoint position (redo stream at which recovery must begin) to the controlfile.
</p>
</dd>
<dt class="hdlist1">
Manageability Monitor (MMON)
</dt>
<dd>
<p>
handles self-monitoring and self-tunning of the database. It captures activity statistics from the SGA (by default every hour) and writes them to the data dictionnary (kept 8 days by default). Each time it gathers a set of statistics, it launches ADDM (Automatic Database Diagnostic Monitor). It also checks whether alerts should be raised.
</p>
</dd>
<dt class="hdlist1">
Manageability Monitor Light (MMNL)
</dt>
<dd>
<p>
flushes the MMON data when the memory buffers used for MMON data are full before MMON is due to flush them.
</p>
</dd>
<dt class="hdlist1">
Memory Manager (MMAN)
</dt>
<dd>
<p>
Manages the memory allocations (&amp; grows &amp; shrinks).
</p>
</dd>
<dt class="hdlist1">
Archiver (ARCn)
</dt>
<dd>
<p>
Copies online redo logs to archive redo log files. There can be 1 to 30 processes. In normal running, LGWR writes to redo logs, ARCn reads to them and no other process touch them at all. (This is a facultative process)
</p>
</dd>
<dt class="hdlist1">
Recoverer (RECO)
</dt>
<dd>
<p>
handles the process of rollback in all databases impacted by a transaction rollback. (This is a facultative process)
</p>
</dd>
</dl></div>
<h4 id="_other_background_processes">1.3.2. Other background processes</h4>
<div class="dlist"><dl>
<dt class="hdlist1">
CQJn,Jnnn
</dt>
<dd>
<p>
Manage jobs scheduled. CQJn for the job queue and sending jobs to a job queue. Jnnn for execution of a job.
</p>
</dd>
<dt class="hdlist1">
Dnnn,Snnn
</dt>
<dd>
<p>
Dnnn is the dispatcher process that will send SQL calls to shared server processes. Snnn is the same but when the shared server mechanism has been enabled.
</p>
</dd>
<dt class="hdlist1">
DBMR
</dt>
<dd>
<p>
resource manager.
</p>
</dd>
<dt class="hdlist1">
DIA0
</dt>
<dd>
<p>
diagnosability process zero is responsible for hang detection and deadlock resolution.
</p>
</dd>
<dt class="hdlist1">
DIAG
</dt>
<dd>
<p>
for disagnostic dumps and executes oradebug commands.
</p>
</dd>
<dt class="hdlist1">
FBDA
</dt>
<dd>
<p>
flashback data archiver process archives the historical rows of tracked tables into flashback data archives.
</p>
</dd>
<dt class="hdlist1">
PSPn
</dt>
<dd>
<p>
Process spawner for creating and managing other Oracle processes.
</p>
</dd>
<dt class="hdlist1">
QMNC,Qnnn
</dt>
<dd>
<p>
Queue manager coordinator for monitoring queues in the database and assigning Qnnn processes to enqueue and dequeue messages to and from these queues.
</p>
</dd>
<dt class="hdlist1">
SHAD
</dt>
<dd>
<p>
(="TNS V1-V3" on Linux systems) to support user sessions.
</p>
</dd>
<dt class="hdlist1">
SMCO,Wnnn
</dt>
<dd>
<p>
for space management (allocation and space reclamation). Wnnn are slave processes of SMCO to implement the task.
</p>
</dd>
<dt class="hdlist1">
VKTM
</dt>
<dd>
<p>
(virtual keeper of time) is responsible of keeping track of time.
</p>
</dd>
</dl></div>
<h3 id="_storage">1.4. Storage</h3><div style="clear:left"></div>
<div class="paragraph"><p>Every database must have at least 2 groups of online logs, each containing at least 1 member. (and should have at least 2 member for safety)</p></div>
<div class="paragraph"><p><u>Test:</u> 1 error Q6 (2013-03-13)</p></div>
</div>
<h2 id="_chapter_2_installing_and_creating_a_db">2. Chapter 2: Installing and creating a DB</h2>
<div class="sectionbody">
<div class="paragraph"><p>In Linux &amp; Unix environments, if the DISPLAY variable is not set properly, the OUI will not be able to open a window and will throw an error.</p></div>
<div class="paragraph"><p>In windows, registery keys are under HKEY_LOCAL_MACHINE\SOFTWARE\ORACLE. Registry keys that contains the parameters of the windows service are under HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\OracleService <strong>&lt;DB_SID&gt;</strong></p></div>
<div class="paragraph"><p>In an instance parameter file, the only parameter that has no default value is the "DB_NAME" parameter, so it is the only required. The DB_NAME can be up to 8 characters long, begining with a letter and containing letters and digits only.</p></div>
<div class="paragraph"><p>NOMOUNT instance = instance created (following the parameter file) but not connected to a database.</p></div>
<div class="paragraph"><p>MOUNT mode = instance created and connected to the controlfile of a database.</p></div>
<div class="paragraph"><p>OPEN mode = instance created, connected to controlfile and files listed in controlfile have been located and opened.</p></div>
<div class="paragraph"><p>Be sure to have $ORACLE_HOME/bin at the begining of the PATH variable in case there were any linux executable that have the same name as the oracle command (ex: rman command on Suse Linux)</p></div>
<div class="paragraph"><p>DB_BLOCK_SIZE is the only parameter you cannot change after database creation.</p></div>
<div class="paragraph"><p>CHARACTERSET of a database cannot be changed throug DBCA.</p></div>
<div class="paragraph"><p>Database control can be used for each database of a server and will use a different port for each one.</p></div>
<div class="paragraph"><p><u>Test:</u> 6 errors Q1,7,10,15,19,20 (2013-03-14)</p></div>
</div>
<h2 id="_chapter_3_instance_management">3. Chapter 3: Instance management</h2>
<div class="sectionbody">
<div class="paragraph"><p>Get instance basic parameters:
<tt>select s.name, s.value as value_in_spfile, p.value as value_in_memory from v$spparameter s inner join v$parameter p on s.name=p.name where p.isbasic='TRUE' order by name;</tt></p></div>
<div class="paragraph"><p>If you raise the log_buffer size, you may find that commit processing takes longer. If you make it smaller, it will be internally adjusted up to the default value. Generally speaking, you should keep it to the default value.</p></div>
<div class="paragraph"><p>SYSOPER has the ability to issue:</p></div>
<div class="ulist"><ul>
<li>
<p>
STARTUP
</p>
</li>
<li>
<p>
SHUTDOWN
</p>
</li>
<li>
<p>
ALTER DATABASE [MOUNT | OPEN | CLOSE | DISMOUNT]
</p>
</li>
<li>
<p>
ALTER [DATABASE | TABLESPACE] [BEGIN | END] BACKUP
</p>
</li>
<li>
<p>
RECOVER
</p>
</li>
</ul></div>
<div class="paragraph"><p>SYSDBA and SYSOPER are not users: they are privileges that can be granted to users. By default only user SYS has these privileges until they are deliberatly granted to other users.
Normal (not sysoper/sysdba) connections authenticate against the data dictionnary. Connections using sysdba or sysoper privileges authenticate externally, so do not need the database to be opened to authenticate.</p></div>
<div class="paragraph"><p>Dynamic performance views are populated from the instance (access from nomount) or the controlfile (access from mount); DBA_, ALL_ and USER_ views are populated from the data dictionnary (access in open mode only).</p></div>
<div class="paragraph"><p>The default scope of an ALTER SYSTEM is both memory and SPFILE!</p></div>
<div class="paragraph"><p>The SMON process will roll back incomplete transactions, after opening the database (that crashed for example). Rollback occurs while the database is available for use (after the users are able to connect).</p></div>
<div class="paragraph"><p><u>Test:</u> 5 errors Q1,6,8,10,12 (2013-03-15)</p></div>
</div>
<h2 id="_chapter_4_oracle_networking">4. Chapter 4: Oracle Networking</h2>
<div class="sectionbody">
<h3 id="_global_functionning">4.1. Global functionning</h3><div style="clear:left"></div>
<div class="paragraph"><p>Execution of an SQL statement goes through 4 stages:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
parse (transforms statement in something executable using the shared pool)
</p>
</li>
<li>
<p>
bind (expanding variables into literals)
</p>
</li>
<li>
<p>
execute (interacting with data buffer cache which sometimes implies access tot he datafiles)
</p>
</li>
<li>
<p>
fetch (server process sends data to the user process)
</p>
</li>
</ol></div>
<div class="paragraph"><p>Oracle net is responsible for establishing a session and then for the ongoing communication between the user process and the server process (transmitting SQL and fetching result back).</p></div>
<div class="paragraph"><p>From Oracle 11G, Sqlnet can only work with the following protocols:</p></div>
<div class="ulist"><ul>
<li>
<p>
TCP
</p>
</li>
<li>
<p>
TCP with secured sockets
</p>
</li>
<li>
<p>
Windows named pipes (NMP)
</p>
</li>
<li>
<p>
Sockets direct protocol (SDP) over infiniband high-speed networks
</p>
</li>
<li>
<p>
OS-specific inter-processing communication (IPC) &#8594; for local connections only
</p>
</li>
</ul></div>
<div class="paragraph"><p>There are several graphical tools for configuring a listener (Database / Grid control, Net manager, Net Configuration assistant). The Oracle Net configuration assistant does not let you configure multiple listening adresses.</p></div>
<div class="paragraph"><p>The listener and the instance must be running on the same computer, or (only for RAC), on any computer of the same cluster.</p></div>
<div class="paragraph"><p>To change the listener where the instance will register to, change the "local_listener" initialisation parameter.</p></div>
<div class="paragraph"><p>To add service names for the listener to listen to for a given instance, use the "service_names" init parameter that is a coma-separated list of service names. (works for dynamic registering)</p></div>
<div class="paragraph"><p>PMON registers the DB with a listener once a minute.</p></div>
<div class="paragraph"><p>In the lsnrctl prompt, "EXIT" will save the changes, but "QUIT" will NOT!</p></div>
<div class="paragraph"><p>sqlnet.ora file contains settings that apply to all connections and listeners, such as security rules and encryption.</p></div>
<div class="paragraph"><p>The TNS_ADMIN variable contains the path to the listener.ora, tnsnames.ora and sqlnet.ora to use in the set environment.</p></div>
<div class="paragraph"><p>Dedicated server implies: listener creates a server process at user connection request. This server process will execute the SQL.</p></div>
<h3 id="_shared_server_environments">4.2. Shared server environments</h3><div style="clear:left"></div>
<div class="paragraph"><p>Shared server implies: listener will transfert the user process to one dispatcher (load balancing between all dispatchers) that will queue the statements in a common queue. A shared server process (not tied to a session) that will take the job from the common queue and then queue the fetched result back to the initial dispatcher&#8217;s response queue that will transmit it to the user process.</p></div>
<div class="paragraph"><p>Listener connection is transient but connection between user process and dispatcher will persist for the duration of the session.</p></div>
<div class="paragraph"><p>The common queue is shared by all dispatchers. All shared server processes monitor the common queue.</p></div>
<div class="paragraph"><p>The response queue is specific to the dispatcher that recieved the job (SQL) in the 1st place. Each dispatcher monitors its own response queue.</p></div>
<div class="paragraph"><p>UGA (user global area) is the equivalent to the PGA in a shared server environment. It resides in the SGA. The difference is that the session stack space that is still outside the SGA. The UGA can be configured manually using the "large_pool" parameter.</p></div>
<div class="paragraph"><p>"shared_servers" parameter (that defaults to 1) controls the number of shared server processes that will be launched at instance startup time. In case of load, Oracle will automatically launch additionnal shared servers until it reaches the "max_shared_servers" (that defaults to a eigth of the "processes" parameter).</p></div>
<div class="paragraph"><p>"dispatchers" is the only required parameter in order to configure a shared server environment. It contains the number of dispatchers and the corresponding protocol.</p></div>
<div class="paragraph"><p>To force a dedicated connection in a shared server environment (for admin tasks for example), put <tt>(SERVER = DEDICATED)</tt> in the client side&#8217;s tnsnames.ora. Operations like RMAN backups, bulk loads, DataWarehousing DBA work need dedicated connections.</p></div>
<div class="paragraph"><p><u>Test:</u> 4 errors Q4,6,7,10 (2013-03-18)</p></div>
</div>
<h2 id="_chapter_5_oracle_storage">5. Chapter 5: Oracle Storage</h2>
<div class="sectionbody">
<div class="paragraph"><p>If a column of a table is defined as a user-defined object segment that itself has columns, then the column can be stored in its own segment called <tt>a nested table</tt>.</p></div>
<div class="paragraph"><p>To allocate manually a new extent to a segment (here a table), use: <tt>ALTER TABLE &lt;table_name&gt; ALLOCATE EXTENT [STORAGE (datafile '&lt;file_name&gt;')]</tt></p></div>
<div class="paragraph"><p>Oracle Home cannot be in ASM. Only datafiles, backup, redo and datapump files can be stored in ASM.</p></div>
<div class="paragraph"><p>Extent management of a tablespace should always be LOCAL.</p></div>
<div class="paragraph"><p><tt>ALTER TABLESPACE &lt;ts_name&gt; OFFLINE IMMEDIATE</tt> will not generated a checkpoint (due to the <strong>IMMEDIATE</strong> option) and will need change vectors to be applied before opening it back.</p></div>
<div class="paragraph"><p>Objects in a READ ONLY (and/or OFFLINE) tablespace cannot be changed using DML statements but can be dropped (because it is only deleting rows in the data dictionnary)! But as the creation of a data object requires writing the 1<sup>st</sup> extent to the tablespace, creation of data objects is not possible in a READ ONLY tablespace.</p></div>
<div class="paragraph"><p>It is possible to convert tablespace from dictionnary extent management to local extent management but not from freelist segment management to automatic segment management.</p></div>
<div class="paragraph"><p><u>Test:</u> 1 error Q4 (2013-03-20)</p></div>
</div>
<h2 id="_chapter_6_oracle_security">6. Chapter 6: Oracle Security</h2>
<div class="sectionbody">
<div class="paragraph"><p>User names must be <strong>&le; 30 characters</strong>, consists of leters, digits, the "$" sign and the "_" sign. If setting username with double quotes, theses rules can be broken except for length using non standard characters.</p></div>
<div class="paragraph"><p>If a user&#8217;s quota is reduced to below the size of their existing objects (or even reduced to zero), the user objects will survive and be usable but they will not be permitted to get any bigger.</p></div>
<div class="paragraph"><p>Before you can create a table you must have the "CREATE TABLE" grant <strong>AND</strong> quota on the tablespace in which you create it.</p></div>
<div class="paragraph"><p>List of users that are in the password file are accessible through the <tt>V$PWFILE_USERS</tt> dynamic view.</p></div>
<div class="paragraph"><p>To have external authentication on normal user without advanced security option, create the account with the same name that the OS account prefixed with the value of the "OS_AUTHENT_PREFIX" init parameter (which defaults to OPS$).
On windows domain, the user name will be "DOMAIN\USER", and the prefix will be added before the DOMAIN.</p></div>
<div class="paragraph"><p>Using external authentication can be very useful, but only if the users actually log on to the machine hosting the database. Users will rarely do this, so the technique is more likely to be of value for accounts used for running maintenance or batch jobs.</p></div>
<div class="paragraph"><p>Revocation of a system privilege will not cascade (unlike revocation of an object privilege which will cascade the object privileges granted from the "with grant option" to other users).</p></div>
<div class="paragraph"><p>Grant privilege on ANY object_type will not grants rights on the SYS schema (to protect dictionnary).</p></div>
<div class="paragraph"><p>A (non-dba) user can only revoke objects-privileges that <strong>he/she granted</strong>.</p></div>
<div class="paragraph"><p>To enable a non default role on your session, use the SET ROLE rolename.
If you wan a user to enable a role only by a specific procedure, use: CREATE ROLE rolename IDENTIFIED USING procedure_name;</p></div>
<div class="paragraph"><p>Resource limits will not be applied unless the <tt>RESOURCE_LIMIT</tt> instance parameter has been set to TRUE.</p></div>
<div class="paragraph"><p>In a profile, the <tt>LIMIT SESSION_PER-USER</tt> will not be applied unless the <tt>RESOURCE_LIMIT</tt> is set to TRUE.</p></div>
<div class="paragraph"><p>A profile cannot be dropped if it has been assigned to a user. They must be altered to a different profile first, or use <tt>DROP PROFILE &lt;profile_name&gt; CASCADE;</tt> which will automatically reassign the assigned users to the default profile.</p></div>
<div class="paragraph"><p>A profile can limit logical I/O, from the database buffer cache, but not physical I/O from the database.</p></div>
<div class="paragraph"><p>Public is a role that is granted to everyone, but when connecting using the "AS SYSOPER" syntax, you will appear to be connected to an account named "PUBLIC"! When connected "AS SYSDBA", you will appear to be connected as user "SYS".</p></div>
<div class="paragraph"><p><tt>GRANT ANY</tt> system privilege protects SYS schema (by excluding its objects from the grant) as long as the <tt>O7_DICTIONNARY_ACCESSIBILITY</tt> is set to <tt>FALSE</tt>.</p></div>
<div class="paragraph"><p>In the <tt>AUDIT</tt> command, the <tt>BY SESSION</tt> (which is the default) will create an audit entry for each session violating the rules, no matter how many violation it makes. The <tt>BY ACCESS</tt> will create 1 audit entry for each violation.</p></div>
<div class="paragraph"><p>In the <tt>AUDIT</tt> command, the <tt>WHENEVER SUCCESSFULL</tt> keywork limits audit records to those where the operation succeeded. The alternative syntax is <tt>WHENEVER NOT SUCCESSFULL</tt>. By default, all are audited.</p></div>
<div class="paragraph"><p>Logons are audited with the <tt>AUDIT SESSION</tt> command.</p></div>
<div class="paragraph"><p><tt>DBA_AUDIT_TRAIL</tt> view is used for accessing standard auditing datas.</p></div>
<div class="paragraph"><p>To manage Fine-Grained Auditing, use the <tt>DBMS_FGA</tt> package and the <tt>DBA_FGA_AUDIT_TRAIL</tt> view.</p></div>
<div class="paragraph"><p><tt>DBA_COMMON_AUDIT_TRAIL</tt> view shows events from both standard and Fine-Grained auditing.</p></div>
<div class="paragraph"><p>Roles can be password protected!</p></div>
<div class="paragraph"><p><u>Test:</u> 4 errors Q5,7,10,14 (2013-03-22)</p></div>
</div>
<h2 id="_chapter_7_ddl_and_schema_objects">7. Chapter 7: DDL and schema objects</h2>
<div class="sectionbody">
<h3 id="_objects_definition">7.1. Objects definition</h3><div style="clear:left"></div>
<div class="paragraph"><p>Object names must be between 1 and 30 characters long (except for DB_LINKS that can be up to 128 characters long). They can only include letters, numbers, "_", "$" and "#" (this rule can be broken by using double quotes, but that exception does not include the length rule).</p></div>
<div class="paragraph"><p>The following objects have each their own namespace:</p></div>
<div class="ulist"><ul>
<li>
<p>
Indexes
</p>
</li>
<li>
<p>
Database triggers
</p>
</li>
<li>
<p>
Constraints
</p>
</li>
<li>
<p>
Private DB_LINKS
</p>
</li>
<li>
<p>
Clusters
</p>
</li>
<li>
<p>
Dimensions
</p>
</li>
</ul></div>
<div class="paragraph"><p>For ISO/ANSI compliance, you can specify the VARCHAR datatype, but any column of this type will automatically be convertes to the VARCHAR2 datatype.</p></div>
<div class="paragraph"><p>A table can be organized in a way of:</p></div>
<div class="ulist"><ul>
<li>
<p>
a <tt>heap table</tt>: simplest, randomly organized
</p>
</li>
<li>
<p>
an <tt>index-organized table</tt>: store rows in the order of an index key
</p>
</li>
<li>
<p>
an <tt>index cluster</tt>: can denormalize tables in parent-child relationship so that related rows from different tables are stored together
</p>
</li>
<li>
<p>
a <tt>hash cluster</tt>: force a random distribution rows to break ordering based on the entry sequence
</p>
</li>
<li>
<p>
a <tt>partitionned table</tt>:store rows in separated physical structures (the partitions), allocating rows according to the value of a column
</p>
</li>
</ul></div>
<div class="paragraph"><p>Temporary tables exists ideally only in the PGA of the session that is using them (no disk or database buffer cache activity). If PGA is not big enough, the user&#8217;s temporary tablespace will be used (and as always with TEMP tablespaces, the db buffer cache will still be skipped). &#8658; faster than classic tables!</p></div>
<div class="paragraph"><p>Temporary tables' DML operation do not generate redo logs &#8658; faster than classic tables!</p></div>
<div class="paragraph"><p>It is recommended to put an index on the foreign key to help Oracle searching for keys (when deleting rows in parent table for example).</p></div>
<div class="paragraph"><p>There is no precompilation that makes a view quicker than the query without the view.</p></div>
<div class="paragraph"><p>View created with <tt>select * from ...</tt> will be transformed internally to <tt>select col1, col2, ... from ...</tt> at the time of the creation and will therefore <strong>NOT</strong> become invalid when a new column will be added to the undelying table, but will not show the added column unless a manual recompilation is made against the view.</p></div>
<h3 id="_query_plan_techniques">7.2. Query plan techniques</h3><div style="clear:left"></div>
<div class="paragraph"><p><tt>Nested join</tt> technique passes through one table using an index placed on the other table of a the join to locate the matching rows (usually disk-intensive operation).</p></div>
<div class="paragraph"><p><tt>Hash join</tt> technique reads the entire table into memory, converts it into a hash table and uses a hashing algorithm to locate the matching rows (memory and CPU intensive).</p></div>
<div class="paragraph"><p><tt>Sort merge</tt> technique sorts the tables according to the join column and then merges them together (compromise among disk, memory and CPU).</p></div>
<div class="paragraph"><p><tt>Skip-scanning</tt> method is used when the leftmost column of a composite index is not included in a select. That is much less effiscient than if the leftmost column was included.</p></div>
<h3 id="_indexes">7.3. Indexes</h3><div style="clear:left"></div>
<div class="paragraph"><p><tt>Reverse key indexes</tt> store "John" as "nhoJ". When select is done, Oracle will automatically reverse the search key. Usefull when the data concatenate to the high end of the index.</p></div>
<div class="paragraph"><p><tt>Compressed indexes</tt> will store the duplicated keys once, followed by a string of all the matching rowids.</p></div>
<div class="paragraph"><p>Unlike B*Tree indexes, bitmap indexes include NULL values.</p></div>
<div class="paragraph"><p>Use bitmap indexes only with a low cardinality.</p></div>
<div class="paragraph"><p>When creating an index with the <tt>NOSORT</tt> option, you indicate Oracle that the rows do not need to be sorted; if they are not already sorted (in the index order), the index creation will fail.</p></div>
<div class="paragraph"><p>If you create a PK/UNIQUE constraint on 1 or more columns and a unique index already exists on these columns, oracle will detect it and use it for the PK/UNIQUE constraint. If the existing index is a NON-UNIQUE index, it will be used and converted to a UNIQUE index.</p></div>
<div class="paragraph"><p>Dropping a constraint that have an implicit index defined will also drop the index, but if the index was explicitly created before the contraint, then the index will survive.</p></div>
<div class="paragraph"><p><u>Test:</u> 2 errors Q17,20 (2013-03-24)</p></div>
</div>
<h2 id="_chapter_8_dml_and_concurrency">8. Chapter 8: DML and concurrency</h2>
<div class="sectionbody">
<div class="paragraph"><p>Truncating a table only resets its High Water Mark.</p></div>
<div class="paragraph"><p>Closing a Windows SQL*Plus terminal with an "exit" will commit transactions, but NOT on all the other Operating Systems!</p></div>
<div class="paragraph"><p>PL/SQL functions are similar in concept to a PL/SQL procedure but it does not have OUT argument and cannot be invoked with <tt>EXECUTE</tt>. It returns a single value with the <tt>RETURN</tt> statement.</p></div>
<div class="paragraph"><p>DML statement acquire at least 2 locks:</p></div>
<div class="ulist"><ul>
<li>
<p>
1 EXCLUSIVE lock on the row it modifies (1 for each row involved)
</p>
</li>
<li>
<p>
1 SHARED at the table level to prevent any DDL statement from modifying the table&#8217;s structure during the DML operation
</p>
</li>
</ul></div>
<div class="paragraph"><p><tt>V$ROLLSTAT</tt> gives informations on the size of the UNDO segments.</p></div>
<div class="paragraph"><p><tt>DBA_ROLLBACK_SEGS</tt> gives informations about the existing ROLLBACK segements.</p></div>
<div class="paragraph"><p><tt>V$TRANSACTION</tt> gives informations on the currently active transactions.</p></div>
<div class="paragraph"><p><tt>V$SESSION</tt> gives informations about the currently existing sessions.</p></div>
<div class="paragraph"><p>To find out space needed for an undo tablespace, take the longest query and the retention guarantee and do the following operation:</p></div>
<div class="paragraph"><p>(<em>Number of blocks for the query</em>) <strong>/</strong> <strong>(</strong> (<em>seconds of retention guarantee</em>) * (<em>Block size</em>) * (<em>Duration of the query (sec)</em>) <strong>)</strong></p></div>
<div class="paragraph"><p><u>Test:</u> 4 errors Q10,13,14,15 (2013-03-25)</p></div>
</div>
<h2 id="_chapter_9_retrieving_restricting_and_sorting_data_using_sql">9. Chapter 9: Retrieving, restricting and sorting data using SQL</h2>
<div class="sectionbody">
<div class="paragraph"><p><u>Test:</u> 0 error (2013-03-26)</p></div>
</div>
<h2 id="_chapter_10_single_row_and_conversion_functions">10. Chapter 10: Single-row and conversion functions</h2>
<div class="sectionbody">
<div class="paragraph"><p>NVL2 function syntax <tt>NVL2('&lt;column or expression to evaluate&gt;', '&lt;column or expression to return if NOT NULL&gt;', '&lt;column or expression to return if NULL&gt;')</tt></p></div>
<div class="paragraph"><p><u>Test:</u> 2 errors Q5,8 (2013-03-26)</p></div>
</div>
<h2 id="_chapter_11_group_functions">11. Chapter 11: Group functions</h2>
<div class="sectionbody">
<div class="paragraph"><p><u>Test:</u> 1 error Q6 (2013-03-26)</p></div>
</div>
<h2 id="_chapter_12_sql_joins">12. Chapter 12: SQL Joins</h2>
<div class="sectionbody">
<div class="paragraph"><p><u>Test:</u> 2 errors Q1,5 (2013-03-26)</p></div>
</div>
<h2 id="_chapter_13_subqueries_and_set_operators">13. Chapter 13: Subqueries and set operators</h2>
<div class="sectionbody">
<div class="paragraph"><p>A coumpound query will, by default, return rows sorted accross all the columns, from the left to the right. The only exception is <tt>UNION ALL</tt> where the rows will not be sorted.</p></div>
<div class="paragraph"><p>The result set of an inner query will be nested before the outer query can run.</p></div>
<div class="paragraph"><p><u>Test:</u> 4 errors Q1,3,12,14 (2013-03-26)</p></div>
</div>
<h2 id="_chapter_14_configuring_the_db_for_backup_and_recovery">14. Chapter 14: Configuring the DB for Backup and recovery</h2>
<div class="sectionbody">
<div class="paragraph"><p>Can a <tt>shutdown abort</tt> corrupt a database? No, it is impossible to corrupt the database using these types of commands.</p></div>
<div class="paragraph"><p>At instance startup, the roll forward phase reconstructs UNDO segments in memory and buffer cache from the active and current redo logs to enable the rollback phase.</p></div>
<div class="paragraph"><p>Instance recovery never needs an ARCHIVED redo log file.</p></div>
<div class="paragraph"><p>MTTR (&#8594; Mean Time To Recover) can be controlled by the <tt>FAST_START_MTTR_TARGET</tt> (which defaults to 0, that means UNLIMITED). This initialization parameter makes the DWR work more harder to ensure that the time between the checkpoint time (in the redo) and the current time tend to be near the value of this particular parameter. This parameter also enables "checkpoint auto-tunning".</p></div>
<div class="paragraph"><p>MTTR Advisor can be seen through <tt>V$INSTANCE_RECOVERY</tt> view.</p></div>
<div class="paragraph"><p>Full checkpoint only occurs with orderly shutdown or by user request (<tt>alter system checkpoint</tt>).</p></div>
<div class="paragraph"><p>Partial checkpoint occurs while:</p></div>
<div class="ulist"><ul>
<li>
<p>
taking a tablespace or a datafile offline
</p>
</li>
<li>
<p>
dropping a segment
</p>
</li>
<li>
<p>
truncating a table
</p>
</li>
<li>
<p>
putting a tablespace in backup mode
</p>
</li>
</ul></div>
<div class="paragraph"><p>An instance can have up to 8 multiplexed copies of a controlfile.</p></div>
<div class="paragraph"><p><tt>DB_RECOVERY_FILE_DEST_SIZE</tt> must be set <strong>before</strong> attempting to set <tt>DB_RECOVERY_FILE_DEST</tt>.</p></div>
<div class="paragraph"><p><u>Test:</u> 3 errors Q1,3,6 (2013-03-28)</p></div>
</div>
<h2 id="_chapter_15_backup_with_rman">15. Chapter 15: Backup with RMAN</h2>
<div class="sectionbody">
<div class="paragraph"><p>An <tt>OPEN</tt> backup can only be made if the database is in <tt>ARCHIVELOG</tt> mode.</p></div>
<div class="paragraph"><p>In <tt>NOARCHIVELOG</tt> mode, backup of database can only be done with database closed (<tt>MOUNT</tt> mode after a <strong>CLEAN</strong> shutdown).</p></div>
<div class="paragraph"><p>Files that cannot be backed up with RMAN are:</p></div>
<div class="ulist"><ul>
<li>
<p>
TEMPFILES
</p>
</li>
<li>
<p>
ONLINE REDO LOG
</p>
</li>
<li>
<p>
PASSWORD FILE
</p>
</li>
<li>
<p>
Static PFILE
</p>
</li>
<li>
<p>
Oracle NET configuration files
</p>
</li>
</ul></div>
<div class="paragraph"><p>If there is no level 0 backup, then the first level 1 differential or cumulative backup will in fact perform a level 0 backup!</p></div>
<div class="paragraph"><p>Incremental backups &#8658; all changed blocks since the <strong>last incremental</strong> backup (which could be either a level 0 or a level 1)</p></div>
<div class="paragraph"><p>Cumulative backups &#8658; all changed blocks since the <strong>last level 0</strong> backup.</p></div>
<div class="paragraph"><p>An image copy is a backup file that is identical to the input file.</p></div>
<div class="paragraph"><p>An image copy can be used immediately, without a restore operation. Backupsets always need a restore operation to be usable.</p></div>
<div class="paragraph"><p>Tape channels, compression, incremental backups <strong>CANNOT</strong> be used with image copy backups.</p></div>
<div class="paragraph"><p>RMAN generates 3 types of sessions against the database:</p></div>
<div class="ulist"><ul>
<li>
<p>
one <tt>default session</tt>: invokes the kernelized (available before DB is mounted) PL/SQL that implements RMAN.
</p>
</li>
<li>
<p>
one <tt>pooling sesion</tt>: monitors the progress of RMAN operations
</p>
</li>
<li>
<p>
one ore more <tt>channel session</tt>: reads and writes on a disk or tape. One by user-defined (or defaults) channels.
</p>
</li>
</ul></div>
<div class="paragraph"><p>RMAN&#8217;s parallelism (# of channels) cannot exceed the number of input (if the multisection backup is disabled) and output files.</p></div>
<div class="paragraph"><p>Default RMAN encryption requires a wallet and will be AES128. Alternatively, a password or longer keys can be specified.</p></div>
<div class="paragraph"><p><tt>CONFIGURE BACKUP OPTIMIZATION ON;</tt> allows RMAN not to backup certain files if it considers it already has suffiscient copies of the files (related to retention policy). For read-write datafiles, it will never have identical copies of the file.</p></div>
<div class="paragraph"><p><tt>DELETE EXPIRED;</tt> will not delete anything on disk, only the references marked as expired in the RMAN repository.</p></div>
<div class="paragraph"><p><tt>DELETE OBSOLETE;</tt> will delete files and update the repository accordingly.</p></div>
<div class="paragraph"><p>RMAN stores its repository on controlfile &#8658; loss of it means no restore possible! RMAN Recovery Catalog avoids this.</p></div>
<div class="paragraph"><p><u>Test:</u> 3 errors Q2,5,10 (2013-03-31)</p></div>
</div>
<h2 id="_chapter_16_restore_and_recover_with_rman">16. Chapter 16: Restore and recover with RMAN</h2>
<div class="sectionbody">
<div class="hdlist"><table>
<tr>
<td class="hdlist1">
ADR
<br />
</td>
<td class="hdlist2">
<p style="margin-top: 0;">
Automatic Diagnostic Repository
</p>
</td>
</tr>
</table></div>
<div class="paragraph"><p>Health monitor will run reactively or on demand and will write errors details to the ADR.</p></div>
<div class="paragraph"><p>Health monitor&#8217;s PL/SQL package &#8658; DBMS_HM</p></div>
<div class="ulist"><div class="title">Actions that do the Health Monitor</div><ul>
<li>
<p>
In NOMOUNT mode, checks the "DB structure integrity" (integrity of the controlfiles)
</p>
</li>
<li>
<p>
In MOUNT mode, checks:
</p>
<div class="ulist"><ul>
<li>
<p>
the "DB structure integrity" (integrity of the controlfiles + online redo logs and datafile headers)
</p>
</li>
<li>
<p>
the "Redo Integrity check" (online and archived logfiles accessibility and corruptions)
</p>
</li>
</ul></div>
</li>
<li>
<p>
In OPEN mode:
</p>
<div class="ulist"><ul>
<li>
<p>
scans every data block for corruption
</p>
</li>
<li>
<p>
checks data dictionnary integrity
</p>
</li>
<li>
<p>
checks undo segments integrity
</p>
<div class="dlist"><dl>
<dt class="hdlist1">
DRA
</dt>
<dd>
<p>
Data Recovery Advisor : makes the use of informations gathered by the Health Monitor to find problems and contructs RMAN scripts to repair them. It can do nothing unless the instance is in nomount mode or higher.
</p>
</dd>
</dl></div>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>If one or more failure exists, then you should typically use:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
<tt>LIST FAILURE;</tt> RMAN command to show informations about the failure
</p>
</li>
<li>
<p>
<tt>ADVISE FAILURE;</tt> RMAN command <strong>in the SAME RMAN session</strong> to obtain a report of repair. DRA will not generate any advice if you have not first asked it to the list the failures. Fixed failures or occurence since last listing will not be advised upon.
</p>
</li>
<li>
<p>
<tt>REPAIR FAILURE;</tt> RMAN command <strong>in the SAME RMAN session</strong> to automatically run the generated repair script
</p>
</li>
</ol></div>
<div class="paragraph"><p>DRA will function only for a single-instance database. It cannot work with a RAC clustered database, nor against a DataGuard standby database.</p></div>
<div class="paragraph"><p>In <strong>NOarchivelog</strong> mode, the corruption of a datafile will mean full resore and a clear of the logfile groups using <tt>ALTER DATABASE CLEAR LOGFILE GROUP &lt;group_number&gt;;</tt>. This recreates the specified logfile group. Other solution would be to drop the relevant tablespace&#8230;</p></div>
<div class="paragraph"><p>In <strong>NOarchivelog</strong> mode, restoring an incremental backup will need the use of <tt>RECOVER DATABASE NOREDO;</tt> command after the full backup restore.</p></div>
<div class="paragraph"><p>RMAN will always apply incremental backups in preference to applying redo data (if they are available).</p></div>
<div class="paragraph"><p>SYSTEM and/or active UNDO tablespaces and/or any controlfile copy corruption will all bring database down.</p></div>
<div class="paragraph"><p>Other tablespaces' datafile corruption &#8658; datafile will be brought offline (and the rest of the database will remain open).</p></div>
<div class="paragraph"><p>Incomplete recovery is necessary if there is a missing archivelog or if all members of the current online redo log file group are missing.</p></div>
<div class="paragraph"><p>Autobackup of controlfile and spfile will rely on DBID, so keep the DBID in your documentation.</p></div>
<div class="paragraph"><p><tt>RESTORE CONTROLFILE|SPFILE FROM AUTOBACKUP|'&lt;file_path&gt;';</tt> are the only RMAN commands that can be executed in NOMOUNT mode.</p></div>
<div class="paragraph"><p>In RMAN, the <tt>SET</tt> commands (SET UNTIL, NEWNAME, DBID,&#8230;) can <strong>only</strong> be executed in a <strong>run block</strong>.</p></div>
<div class="paragraph"><p>Block corruptions will not take the datafile offline. RMAN can detect them as it performs backup operations and repair them automatically.</p></div>
<div class="paragraph"><p>To manually recover a block using RMAN, use the <tt>block recover datafile &lt;datafile_number&gt; block &lt;coma_separated_block_numbers_to_recover&gt;;</tt>.</p></div>
<div class="paragraph"><p>If you use the backup with the MAXCORRUPT option, you can revover corrupted blocks using <tt>block recover corruption list [until SYSDATE-7];</tt>(for example). The "until sysdate - 7" would recover from a backup at least older than 7 days.</p></div>
<div class="paragraph"><p><u>Test:</u> 4 errors Q1,6,9,15 (2013-03-31)</p></div>
</div>
<h2 id="_chapter_17_advanced_rman_facilities">17. Chapter 17: Advanced RMAN facilities</h2>
<div class="sectionbody">
<div class="paragraph"><p>When using rman recovery catalog, RMAN repository is also be stored in the controlfile of the target database.</p></div>
<div class="paragraph"><p>The retention of the RMAN repository contained in the controlfile is controlled by the <tt>CONTROLFILE_RECORD_KEEP_TIME</tt> parameter that defaults to 7 days. The recovery catalog can retain data indefinitely.</p></div>
<div class="paragraph"><p>The user owning the recovery catalog must have the <tt>RECOVERY_CATALOG_OWNER</tt> role.</p></div>
<div class="paragraph"><p>The RMAN executable must be the same release as the TARGET database, but it does not need to be the same version as the catalog.</p></div>
<div class="paragraph"><p>The RMAN catalog must be <strong>CREATED</strong> with a version of RMAN that is equal or higher than the version of any database that will be registered in it.</p></div>
<div class="paragraph"><p>If you are using synchronous I/O but you have set BACKUP_DISK_IO_SLAVES init parameter, then the I/O performance is monitored in the V$BACKUP_ASYNC_IO.</p></div>
<div class="paragraph"><p><u>Test:</u> 1 error Q3 (2013-04-01)</p></div>
</div>
<h2 id="_chapter_18_user_managed_backup_restore_and_recovery">18. Chapter 18: User-managed Backup, restore and recovery</h2>
<div class="sectionbody">
<div class="paragraph"><p>Recovery from loss of a <strong>multiplexed online redo log</strong> can be done while the database is open (whereas for controlfiles it cannot), and therefore does not entail any database. Use the <tt>ALTER DATABASE CLEAR LOGFILE GROUP &lt;group_number&gt;;</tt> command when the given group is inactive to recreate the members on disk.</p></div>
<div class="paragraph"><p>To recover from the loss of a tempfile, create a new one and drop the old one. This can be done online.</p></div>
<div class="paragraph"><p><tt>V$RECOVER_FILE</tt> is the list of all datafiles found to be damaged or missing. Available in both mount or open mode.</p></div>
<div class="paragraph"><p>In <strong>NOarchivelog</strong> mode, the loss of a datafile will always result in a complete restore of the database.</p></div>
<div class="paragraph"><p>A <tt>RECOVER DATABASE UNTIL ...;</tt> will stop immediately <strong>BEFORE</strong> applying the change vector of the nominated time or SCN (<em>not immediately after</em>).</p></div>
<div class="paragraph"><p><u>Test:</u> 1 error Q2 (2013-04-01)</p></div>
</div>
<h2 id="_chapter_19_flashback">19. Chapter 19: Flashback</h2>
<div class="sectionbody">
<div class="paragraph"><p>Flashback Database (and other flashback technologies) will not back out physical corruption</p></div>
<h3 id="_flashback_database">19.1. Flashback Database</h3><div style="clear:left"></div>
<div class="paragraph"><p>Flashback Database relies on flashback logs AND redo logs.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
RVWR
</dt>
<dd>
<p>
Recovery writer. It writes data from the <tt>flashback buffer</tt> (area of memory in the SGA) to the flashback logs (on disk) which are complete block images, not vector changes.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Flashback logs cannot be multiplexed and are not archived. Their management and creation is automatic.</p></div>
<div class="paragraph"><p>Flashback Database requires flashback logs, the Archivelog mode and the use of <tt>OPEN RESETLOGS</tt> after the flashback.</p></div>
<div class="paragraph"><p>To configure Flashback Database:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Archivelog mode
</p>
</li>
<li>
<p>
Configure a FRA
</p>
</li>
<li>
<p>
Set <tt>DB_FLASHBACK_RETENTION_TARGET</tt> (in minutes)
</p>
</li>
<li>
<p>
shutdown and startup mount
</p>
</li>
<li>
<p>
<tt>ALTER DATABASE FLASHBACK ON</tt>
</p>
</li>
<li>
<p>
Open database
</p>
</li>
</ol></div>
<div class="paragraph"><p>To get the status of the Flashback technology, use <tt>SELECT flashback_on from V$DATABASE|V$TABLESPACE;</tt>.</p></div>
<div class="paragraph"><p>To list Flashback Database logs, use <tt>V$FLASHBACK_DATABASE_LOG</tt>.</p></div>
<div class="paragraph"><p>Flashback Database statistics are in the <tt>V$FLASHBACK_DATABASE_STAT</tt>.</p></div>
<div class="paragraph"><p>To Flashback a database:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Shutdown and startup mount
</p>
</li>
<li>
<p>
Flashback to a time, SCN or sequence
</p>
</li>
<li>
<p>
Open resetlogs
</p>
</li>
</ol></div>
<div class="paragraph"><p>Flashback Database is the only way to recover a schema other than an incomplete recovery.</p></div>
<div class="paragraph"><p>If there is not enough room in the FRA for the Flashback Data, <strong>nothing but FLASHBACK DATA</strong> will be deleted in the FRA!</p></div>
<div class="paragraph"><p>If Flashback logging is impacting adversely on performance, the only thing to do is to stop flashback logging for some tablespaces.</p></div>
<h3 id="_flashback_query">19.2. Flashback Query</h3><div style="clear:left"></div>
<div class="paragraph"><p>Flashback Query (the 3 variations) relies on the use of UNDO segments to reconstruct data as it were in a certain point in time.</p></div>
<div class="paragraph"><p>You can query tables as of an earlier point in time, but you can never execute DML against the older version of the data.</p></div>
<div class="paragraph"><p>Flashback Version Query cannot work against external and temporary tables, nor against V$ views.</p></div>
<div class="paragraph"><p>Work done by the <tt>DBMS_FLASHBACK.BACKOUT_TRANSACTION</tt> will be left <strong>UNCOMMITED</strong>. You&#8217;ll have to commit them manually to finish the recover.</p></div>
<div class="paragraph"><p>Only Flashback Table requires row movement. Flashback Transaction <strong>DO NOT</strong>.</p></div>
<div class="paragraph"><p>To flash back 2 tables in a foreign key relationship, flashback both tables in one operation.</p></div>
<h3 id="_flashback_drop">19.3. Flashback DROP</h3><div style="clear:left"></div>
<div class="paragraph"><p>Flashback Drop will <strong>not</strong> be able to flashback a <tt>TRUNCATE</tt> !</p></div>
<div class="paragraph"><p>In a flash back Drop, the table, associated indexes and permissions will be restored.</p></div>
<div class="paragraph"><p>Flashback Drop is not available for tables in the SYSTEM tablespace. Those ones are purged immediately.</p></div>
<div class="paragraph"><p><tt>DBA_SEGMENTS</tt> contains RECYCLE BIN segments whereas <tt>DBA_FREE_SPACE</tt> will not take them in account!</p></div>
<div class="paragraph"><p>No constraint go to the recycle bin.</p></div>
<h3 id="_flash_back_data_archive">19.4. Flash Back Data Archive</h3><div style="clear:left"></div>
<div class="paragraph"><p>A Flash Back Data Archive (FBDA) is enabled for a table. It will create another table that will store any versions of the rows of the tables. Retention can be years.</p></div>
<div class="paragraph"><p>DROP, TRUNCATE and column DROP cannot be executed against a table using FBDA.</p></div>
<div class="paragraph"><p><u>Test:</u> 7 errors Q1,7,9,10,12,16,17 (2013-04-03)</p></div>
</div>
<h2 id="_chapter_20_automatic_storage_management">20. Chapter 20: Automatic Storage Management</h2>
<div class="sectionbody">
<div class="paragraph"><p>Oracle Cluster Services are required on the host in order to setup the communication between the RDBMS instance and the ASM instance.</p></div>
<div class="paragraph"><p>You can use ASM only for database and recovery files. <strong>Not</strong> for Oracle Home, Alert log, trace files, passord files and Static PFILE.</p></div>
<div class="paragraph"><p>ASM Mirroring defaults to a single mirror, but can be set to <tt>NONE</tt> or <tt>DOUBLE</tt>.</p></div>
<div class="paragraph"><p>Stripping is automatic and cannot be disabled.</p></div>
<div class="paragraph"><p>ASM is a management and control facility that makes files available. It does not do the actual I/O work.</p></div>
<div class="paragraph"><p>An ASM instance cannot mount or open a database.</p></div>
<div class="paragraph"><p>You can only connect to an ASM instance using a password file or OS authentication.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
RBAL and ARBn
</dt>
<dd>
<p>
are ASM-specific background processes used to rebalance activity (movement of data between disks, changing in stripping or adding disks). RBAL coordinates rebalancing on the ASM instance. ARBn processes does the work.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>A rebalancing operation will start automatically in response to a disk group reconfiguration.</p></div>
<div class="paragraph"><p>On the <strong>RDBMS</strong> instance:</p></div>
<div class="ulist"><ul>
<li>
<p>
the <tt>RBAL</tt> process locate ASM disks through the ASM instance and opens it
</p>
</li>
<li>
<p>
the <tt>ASMB</tt> process creates a session against the ASM instance, continuously connected to pass the physical change orders and various statistics and status messages
</p>
</li>
</ul></div>
<div class="paragraph"><p>Required fields in an ASM instance parameter file are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<tt>Instance type</tt> (must be set to <em>ASM</em>)
</p>
</li>
<li>
<p>
<tt>ASM_DISKSTRING</tt> that is the list of path identifying the disks to be given to ASM
</p>
</li>
</ul></div>
<div class="paragraph"><p>If an ASM instance fails, the dependent RDBMS instances using it will abort.
RMAN is the only tool that can backup ASM files.</p></div>
<div class="paragraph"><p><u>Test:</u> 0 error (2013-04-03)</p></div>
</div>
<h2 id="_chapter_21_the_resource_manager">21. Chapter 21: The Resource Manager</h2>
<div class="sectionbody">
<div class="paragraph"><p><tt>RESOURCE_LIMITS</tt> parameter has nothing to do with the Resource Manager. It has to do with the PROFILES.</p></div>
<div class="paragraph"><p>The <tt>RESOURCE_MANAGER_PLAN</tt> instance parameter (that defaults to DEFAULT_MAINTENANCE_PLAN) is the way to control Resource Manager. It can also be set using the scheduler or with the <tt>DBMS_RESOURCE_MANAGER.SWITCH_PLAN</tt> procedure.</p></div>
<div class="paragraph"><p><tt>DBMS_RESOURCE_MANAGER_PRIVS</tt> package is used to put users into consumer groups and to grant system privileges necessary to administer the Resource Manager. The corresponding role (<tt>ADMINISTER RESOURCE MANAGER</tt>) cannot be granted or revoked other way than using this package.</p></div>
<div class="paragraph"><p>Every user can switch its consumer group using the <tt>DBMS_SESSION.SWITCH_CURRENT_CONSUMER_GROUP</tt> procedure.</p></div>
<div class="paragraph"><p>A user with rights to administer Resource Manager can use:</p></div>
<div class="ulist"><ul>
<li>
<p>
<tt>DBMS_RESOURCE_MANAGER.SWITCH_CONSUMER_GROUP_FOR_USER</tt> to switch all the sessions connected with a user to a given consumer group
</p>
</li>
<li>
<p>
<tt>DBMS_RESOURCE_MANAGER.SWITHC_CONSUMER_GROUP_FOR_SESS</tt> to switch a given session to a given consumer group
</p>
</li>
</ul></div>
<div class="paragraph"><p>There are 4 priority levels that can be used in a plan.</p></div>
<div class="paragraph"><p>Memory allocated to Resource Manager is the Pending Area (part of the SGA). It is also used to validate a plan before saving it.</p></div>
<div class="paragraph"><p>Every plan must include the <tt>OTHER_GROUP</tt> group; otherwise, the validation will fail in the pending area and the plan will not be saved in the data dictionnary.</p></div>
<div class="paragraph"><p>Active session in Resource Manager vocabulary includes running sessions and idle sessions with uncommited transaction(s).</p></div>
<div class="paragraph"><p><u>Test:</u> 5 errors Q1,2,3,10,11 (2013-04-05)</p></div>
</div>
<h2 id="_chapter_22_the_scheduler">22. Chapter 22: The scheduler</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
CQJ0
</dt>
<dd>
<p>
Job Coordinator process. It monitors <tt>DBA_SCHEDULER_JOBS</tt> view and launches the <tt>Jnnn</tt> process to run a job.
</p>
</dd>
</dl></div>
<div class="paragraph"><p><tt>JOB_QUEUE_PROCESS</tt> instance parameter limits the max number (0 to 1000 and defaults to 1000) of Jnnn that can be launched. If set to 0, the scheduler will not function.</p></div>
<div class="paragraph"><p>By default jobs and programs are disabled in the scheduler at creation time.</p></div>
<div class="paragraph"><p>Job class is used to associate 1 or more job with a Resource Manager consumer group and also to control logging levels.</p></div>
<div class="paragraph"><p>The <tt>MANAGE SCHEDULER</tt> system privilege is needed to create job classes and windows and to force windows to open or close irrespective of their schedules.</p></div>
<div class="paragraph"><p>PROGRAMS and JOBS share the same namespace &#8658; They cannot have the same name! The same is true for SCHEDULES and WINDOWS.</p></div>
<div class="paragraph"><p>You cannot create lightweight jobs using Database Control. Only the <tt>DBMS_SCHEDULER</tt> package enables you to do that.</p></div>
<div class="paragraph"><p>A lightweight job has always AUTO_DROP to <strong>TRUE</strong> and END_DATE defaulting to current timestamp.</p></div>
<div class="paragraph"><p>Priorities cannot be set on creation of the job. You must use the <tt>DBMS_SCHEDULER.SET_ATTRIBUTE</tt> procedure.</p></div>
<div class="paragraph"><p>Jobs priorities within a class are from 1 to 5 (highest to lowest).</p></div>
<div class="paragraph"><p><strong>Only one window an be open at once</strong>. Other things being equal, the window with the longest to run will open or remain open if 2 windows are overlapping and having the same priority.</p></div>
<div class="paragraph"><p><u>Test:</u> 2 errors Q5,8 (2013-04-06)</p></div>
</div>
<h2 id="_chapter_23_moving_and_reorganizing_data">23. Chapter 23: Moving and reorganizing data</h2>
<div class="sectionbody">
<h3 id="_sql_loader">23.1. SQL*Loader</h3><div style="clear:left"></div>
<div class="paragraph"><p>SQL*Loader can use either binded insert with normal commit or <tt>direct path loads</tt> that will skip buffer cache (can even skip redo), generate no UNDO, writes directly above HWM and move HWM at the end of the work.</p></div>
<div class="paragraph"><p>Direct path loads have drawbacks:</p></div>
<div class="ulist"><ul>
<li>
<p>
Referential integrity contraints must be dropped or disabled for the duration of the operation (except for unique, not null &amp; PK)
</p>
</li>
<li>
<p>
Insert triggers are not fired
</p>
</li>
<li>
<p>
Table will be locked against DML from other sessions
</p>
</li>
<li>
<p>
Cannot be used against clustered tables
</p>
</li>
</ul></div>
<div class="paragraph"><p>Only <strong>UNIQUE</strong>, <strong>NOT NULL</strong> and PK constraints are enforced during a direct path load.</p></div>
<div class="paragraph"><p>SQL*Loader use:</p></div>
<div class="ulist"><ul>
<li>
<p>
Input files (data)
</p>
</li>
<li>
<p>
Control files (settings and format)
</p>
</li>
<li>
<p>
Log files
</p>
</li>
<li>
<p>
Bad files (formatting errors or not matching DB integrity constraints)
</p>
</li>
<li>
<p>
Reject files (correct input but do not match some record selection criterion)
</p>
</li>
</ul></div>
<h3 id="_directories_amp_external_tables">23.2. Directories &amp; external tables</h3><div style="clear:left"></div>
<div class="paragraph"><p>Directories are always owned by SYS user even if not created by SYS. So having created a directory do not mean that you will be able to drop it!</p></div>
<div class="paragraph"><p>External tables relies on oracle&#8217;s "DIRECTORIES" objects just as DATAPUMP do.</p></div>
<div class="paragraph"><p>External tables cannot have indexes, constraints or triggers.</p></div>
<h3 id="_datapump">23.3. DataPump</h3><div style="clear:left"></div>
<div class="paragraph"><p>When a DataPump job is launched, at least 2 processes are started:</p></div>
<div class="ulist"><ul>
<li>
<p>
The <tt>DMnn</tt>: DataPump Master process (one by datapump job)
</p>
</li>
<li>
<p>
One or more <tt>DWnn</tt>: Worker processes. If parallelism is enabled, each DWnn may make use of 2 or more parallel execution server processes named <tt>Pnnn</tt>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>2 queues are created for each datapump jobs:</p></div>
<div class="ulist"><ul>
<li>
<p>
A control queue: Individual tasks to make up the job are placed in the control queue by the DMnn process. DWnn process pick up these tasks and execute them.
</p>
</li>
<li>
<p>
A status queue: DMnn place messages in the status queue to describe the state of the job. Any session with appropriate privileges can query the queue to monitor the job&#8217;s progress.
</p>
</li>
</ul></div>
<div class="paragraph"><p>There are 3 datapump file types:</p></div>
<div class="ulist"><ul>
<li>
<p>
SQL files
</p>
</li>
<li>
<p>
Log files
</p>
</li>
<li>
<p>
Dump files
</p>
</li>
</ul></div>
<div class="paragraph"><p>Directory (or directories) can be specified to a datapump job at 4 levels (in order of precedence):</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
A per-file within the datapump job
</p>
</li>
<li>
<p>
A parameter applied to the whole datapump job at command-line level
</p>
</li>
<li>
<p>
The <tt>DATAPUMP_DIR</tt> environment variable
</p>
</li>
<li>
<p>
The <tt>DATA_PUMP_DIR</tt> directory
</p>
</li>
</ol></div>
<div class="paragraph"><p>Datapump has 2 methods for loading and unloading data:</p></div>
<div class="ulist"><ul>
<li>
<p>
Direct path: works the same way as for SQL*Loader
</p>
</li>
<li>
<p>
External table path: uses SELECT and INSERT statements using the buffer cache, UNDO, REDO and regular COMMIT mechanisms.
</p>
</li>
</ul></div>
<div class="paragraph"><p>DBA has no control of which method is used. Datapump makes the decision himself based on the complexity of the objects (ie: simply structured data such as table heap with no triggers &#8658; direct path). In either case, the generated file is identical.</p></div>
<h3 id="_transportable_tablespaces">23.4. Transportable tablespaces</h3><div style="clear:left"></div>
<div class="paragraph"><p>Transportable tablespaces requires data to be converted to the endian format. To transport tablespace accross platforms with a different endian requires converting datafiles. You do this using the <tt>CONVERT</tt> RMAN command.</p></div>
<h3 id="_tables_reorganization">23.5. Tables reorganization</h3><div style="clear:left"></div>
<div class="paragraph"><p><tt>DBA_RESUMABLE</tt> view lists all suspended sessions. Resumable can be set:</p></div>
<div class="ulist"><ul>
<li>
<p>
at session level using <tt>ALTER SESSION ENABLE RESUMABLE [TIMEOUT &lt;seconds&gt;] [name &lt;operation_name&gt;];</tt>. TIMEOUT defauts to infinite; NAME is the name that would appear in DBA_RESUMABLE
</p>
</li>
<li>
<p>
at system level by setting the <tt>RESUMABLE_TIMEOUT</tt> instance parameter
</p>
</li>
</ul></div>
<div class="paragraph"><p>Row migration is caused by UPDATE statement. INSERT or DELETE can NEVER cause row migration.</p></div>
<div class="paragraph"><p>Reorganizing a table with a MOVE will render all associated indexes unusable.</p></div>
<div class="paragraph"><p>A MOVE operation will lock the table against DML. You cannot move a table if there is an uncommited transaction against it.</p></div>
<div class="paragraph"><p>To find chained rows, use the <tt>ANALYZE</tt> command, <strong>NOT</strong> <tt>DBMS_STATS</tt> package. Then go to the <tt>CHAIN_CNT</tt> of the <tt>DBA_TABLES</tt>. If the <tt>AVG_ROW_LEN</tt> is less than the block size, these are migrated rows; if it is greater, they will be chained rows.</p></div>
<div class="paragraph"><p>Tables in tablespace that use the older freelist technique for managing segment space usage cannot be shrunk.</p></div>
<div class="paragraph"><p>You CANNOT <tt>SHRINK</tt> a table that:</p></div>
<div class="ulist"><ul>
<li>
<p>
has a column of type <tt>LONG</tt>
</p>
</li>
<li>
<p>
has a materialize view defined with <tt>REFRESH ON COMMIT</tt>
</p>
</li>
<li>
<p>
has not row movement enabled
</p>
</li>
</ul></div>
<div class="paragraph"><p>MMON process is responsible of raising an alert when a tablespace usage treshold is reached. DB Control reports it.</p></div>
<div class="paragraph"><p><u>Test:</u> 2 errors Q8,9 (2013-04-06)</p></div>
</div>
<h2 id="_chapter_24_the_awr_and_the_alert_system">24. Chapter 24: The AWR and the Alert System</h2>
<div class="sectionbody">
<div class="paragraph"><p>By default AWR snapshots are taken by MMON every 60 minutes and stored 8 days before being overwritten.</p></div>
<div class="paragraph"><p>AWR tables are stored in the SYSAUX tablespace (SYSMAN schema) and cannot be relocated to anywhere else.</p></div>
<div class="paragraph"><p>DB control and Grid connect directly using SYSMAN to query AWR informations.</p></div>
<div class="paragraph"><p>ADDM reports are generated by MMON each time an AWR shanpshot is taken and are purged every 30 days by default.</p></div>
<div class="paragraph"><p>Alerting queue (raised by MMON) can be queried from the <tt>DBA_OUTSTANDING_ALERTS</tt> view.</p></div>
<div class="paragraph"><p>Metrics used for alerts are in V$METRICNAME. You can configure alerts using <tt>DBMS_SERVER_ALERT</tt> package.</p></div>
<div class="paragraph"><p>When an alert is cleared, it is removed from <tt>DBA_OUTSTANDING_ALERTS</tt> and written to <tt>DBA_ALERT_HISTORY</tt>. Stateless alerts go straight to the history view.</p></div>
<div class="paragraph"><p>The space usage alert is intelligent enough to ignore dropped objects and to take account of file autoextension, but it is only checked every ten minutes and can be disabled per tablespace. A snapshot is not needed for checking alerts, and if no threshold is set for a tablespace, then the database-wide default threshold will be applied.</p></div>
<div class="paragraph"><p><u>Test:</u> 1 error Q3 (2013-04-07)</p></div>
</div>
<h2 id="_chapter_25_performance_tunning">25. Chapter 25: Performance Tunning</h2>
<div class="sectionbody">
<div class="paragraph"><p>There will be 3 stages of PGA memory allocation:</p></div>
<div class="ulist"><ul>
<li>
<p>
Optimal: The whole SORT of data is made into memory.
</p>
</li>
<li>
<p>
One-pass: The SORT is made by batch of rows into memory. Each batch is written to disk and a final MERGE is made in memory.
</p>
</li>
<li>
<p>
Multipass: Both SORT and MERGE are separated into batches, sorted and written to disk.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The LOG_BUFFER is the only SGA structure that cannot be adjusted dynamically. It cannot therefore be automatically generated.</p></div>
<div class="paragraph"><p>If AMM (<tt>MEMORY_TARGET</tt>) is set and that you also set <tt>PGA_AGGREGATE_TARGET</tt> and <tt>SGA_TARGET</tt>, these will be considered as <strong>MINIMUM</strong>. AMM will never reduce PGA and SGA beneath those sizes.</p></div>
<div class="paragraph"><p>Automatic memory management cannot function unless the <tt>statistics_level</tt> instance parameter is set to TYPICAL (which is the default) or ALL.</p></div>
<div class="paragraph"><p>An invalid object may become valid on next access, but unusable indexes must be made valid by manual rebuild.</p></div>
<div class="paragraph"><p>To launch SQL Tunning Advisor job manually, use <tt>DBMS_SQLTUNE.EXECUTE_TUNNING_TASK</tt>.</p></div>
<div class="paragraph"><p>SQL Access Advisor can recommend changes to Materialize views, changing indexes and partitionning, and enabling query rewrite. But only SQL Access Advisor recommends changes to Materialized views (including their creation).</p></div>
<div class="paragraph"><p>When Automatic Memory Management is enabled, the individual advisors (which are necessary for AMM to function) can be seen in V$ views, but only the overall advisor is displayed by Database Control.</p></div>
<div class="paragraph"><p><u>Test:</u> 5 errors Q4,12,14,16,18 (2013-04-08)</p></div>
</div>
<h2 id="_chapter_26_globalization">26. Chapter 26: Globalization</h2>
<div class="sectionbody">
<div class="paragraph"><p>Globalization settings can be specified at the following levels (in order or precedence):</p></div>
<div class="ulist"><ul>
<li>
<p>
Database: view is <tt>nls_database_parameters</tt> (hard to change after DB creation)
</p>
</li>
<li>
<p>
Instance: view is <tt>nls_instance_parameters</tt>
</p>
</li>
<li>
<p>
Client environment: viewed in shell environment and on session it impacts
</p>
</li>
<li>
<p>
Session: views are <tt>V$NLS_PARAMETERS</tt> and <tt>nls_session_parameters</tt>
</p>
</li>
<li>
<p>
Statements: for example, through functions like <tt>TO_CHAR(&lt;column&gt;, 'Day dd, Month YYYY', 'NLS_DATE_LANGUAGE=DUTCH')</tt>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Since release 9i, the National Character Set of the database can only be unicode (but the database characterset can be something else) &#8658; UTF8 (variable size) and AL16UTF16 (fixed-width).</p></div>
<div class="paragraph"><p><tt>NLS_DATE_LANGUAGE</tt> and <tt>NLS_SORT</tt> are controlled by <tt>NLS_LANGUAGE</tt>.</p></div>
<div class="paragraph"><p><tt>NLS_DATE_FORMAT</tt> and <tt>NLS_NUMERIC_CHARACTERS</tt> are controlled by <tt>NLS_TERRITORY</tt>.</p></div>
<div class="paragraph"><p><tt>V$NLS_VALID_VALUES</tt> lists the supported values for the various NLS parameters.</p></div>
<div class="paragraph"><p><u>Test:</u> 3 errors Q6,9,11 (2013-04-10)</p></div>
</div>
<h2 id="_chapter_27_the_intelligent_infrastructure">27. Chapter 27: The Intelligent Infrastructure</h2>
<div class="sectionbody">
<div class="paragraph"><p><tt>ADR_BASE</tt> defaults to (in order of precedence):</p></div>
<div class="ulist"><ul>
<li>
<p>
DIAGNOSTIC_DEST/diag
</p>
</li>
<li>
<p>
ORACLE_BASE/diag (if DIAGNOSTIC_DEST instance parameter is not set)
</p>
</li>
<li>
<p>
ORACLE_HOME/log (if ORACLE_BASE environment variable is not set)
</p>
</li>
</ul></div>
<div class="paragraph"><p><u>Test:</u> 3 errors Q,56,8 (2013-04-10)</p></div>
<div class="paragraph"><p><u>Exam A:</u> 68% (2013-04-10)
<u>Exam B:</u> 80% (2013-04-14)</p></div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Version 1.0.1<br />
Last updated 2013-04-30 19:57:54 CEST
</div>
</div>
</body>
</html>
